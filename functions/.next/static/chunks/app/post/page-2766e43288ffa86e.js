(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[901],{2770:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var a=r(5155);r(2115);var l=r(5695);let n=()=>{let e=(0,l.useRouter)(),t="/"===(0,l.usePathname)();return(0,a.jsx)("header",{className:"fixed top-0 left-0 right-0 z-50 w-full max-w-xl mx-auto h-[70px] bg-[#F9F9F9] border-b border-[#777] flex items-center justify-center select-none",children:(0,a.jsxs)("div",{className:"w-full max-w-xl flex items-center justify-between px-5 relative",children:[(0,a.jsxs)("button",{onClick:()=>e.back(),className:"bg-none border-none text-[20px] cursor-pointer text-black  p-0 flex items-center transition-opacity duration-200 ".concat(t?"opacity-0 pointer-events-none":"opacity-100"),"aria-hidden":t,tabIndex:t?-1:0,children:["<"," ",(0,a.jsx)("span",{className:"ml-1 hidden sm:inline",children:"Back"})]}),(0,a.jsx)("h1",{className:"absolute left-1/2 transform -translate-x-1/2 text-[20px] font-bold text-black text-center cursor-pointer select-none m-0",onClick:()=>e.push("/"),children:"USTB"}),(0,a.jsx)("div",{className:"w-[60px]"})]})})}},4003:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var a=r(5155),l=r(2115),n=r(5695),s=r(5317),o=r(8396),i=r(2770),c=r(7145);function u(){let e=(0,n.useRouter)(),[t,r]=(0,l.useState)(""),[u,d]=(0,l.useState)(""),[m,h]=(0,l.useState)(""),[p,x]=(0,l.useState)(!1);(0,l.useEffect)(()=>{o.j.currentUser||e.push("/login")},[]);let b=async r=>{if(r.preventDefault(),!o.j.currentUser){alert("Login is required."),e.push("/login");return}if(!t.trim()||!u.trim())return void alert("Please enter both the title and the content.");x(!0);try{await (0,s.gS)((0,s.rJ)(o.db,"posts"),{title:t,content:u,type:m,author_uid:o.j.currentUser.uid,author_email:o.j.currentUser.email,author_nickname:o.j.currentUser.displayName||"익명",created_at:(0,s.O5)()}),alert("Your post has been successfully uploaded!"),e.push("/community")}catch(e){console.error("Post upload failed:",e),alert("An error occurred while uploading the post.")}finally{x(!1)}};return(0,a.jsxs)("div",{className:"pt-[70px] pb-[60px] max-w-xl mx-auto min-h-screen bg-white",children:[(0,a.jsx)(i.A,{}),(0,a.jsx)("main",{className:"p-5",children:(0,a.jsxs)("form",{onSubmit:b,className:"flex flex-col gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"category",className:"font-bold text-gray-700 block mb-2",children:"Category"}),(0,a.jsxs)("select",{id:"type",value:m,onChange:e=>h(e.target.value),className:"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-400",required:!0,children:[(0,a.jsx)("option",{value:"",children:"Choose a category"}),(0,a.jsx)("option",{value:"school",children:"school community"}),(0,a.jsx)("option",{value:"free",children:"free community"}),(0,a.jsx)("option",{value:"club",children:"club community"}),(0,a.jsx)("option",{value:"market",children:"market community"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"title",className:"font-bold text-gray-700 block mb-2",children:"Title"}),(0,a.jsx)("input",{id:"title",type:"text",value:t,onChange:e=>r(e.target.value),placeholder:"input title",className:"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-400",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"content",className:"font-bold text-gray-700 block mb-2",children:"Content"}),(0,a.jsx)("textarea",{id:"content",value:u,onChange:e=>d(e.target.value),placeholder:"input content",className:"w-full h-80 p-2 border rounded-md resize-none focus:outline-none focus:ring-2 focus:ring-yellow-400",required:!0})]}),(0,a.jsxs)("div",{className:"flex justify-between mt-4",children:[(0,a.jsx)("button",{type:"button",onClick:()=>{e.back()},className:"w-[45%] bg-gray-300 text-gray-700 font-bold py-2 rounded hover:bg-gray-400",children:"Cancle"}),(0,a.jsx)("button",{type:"submit",disabled:p,className:"w-[45%] bg-yellow-400 text-white font-bold py-2 rounded hover:bg-yellow-500",children:p?"Saving...":"Save"})]})]})}),(0,a.jsx)(c.A,{})]})}},6308:(e,t,r)=>{Promise.resolve().then(r.bind(r,4003))},7145:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var a=r(5155);r(2115);var l=r(5695),n=r(8396);let s=[{id:1,label:"HOME",path:"/"},{id:2,label:"Community",path:"/community"},{id:3,label:"Chat",path:"/chatlist",requireAuth:!0},{id:5,label:"MY",path:"/mypage",requireAuth:!0}],o=()=>{let e=(0,l.useRouter)(),t=(0,l.usePathname)(),r=t=>{t.requireAuth&&!n.j.currentUser?e.push("/login"):e.push(t.path)};return(0,a.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 z-50 w-full max-w-xl mx-auto h-[60px] bg-[#f8f8f8] border-t-2 border-[#cecece] flex justify-around items-center select-none",children:s.map(e=>{let l=t===e.path||"/"!==e.path&&t.startsWith(e.path);return(0,a.jsxs)("button",{onClick:()=>r(e),"aria-label":e.label,className:"flex flex-col items-center justify-center flex-1 max-w-[150px] bg-none border-none outline-none",type:"button",children:[(0,a.jsx)("div",{className:"w-6 h-6 rounded-full border-2 flex items-center justify-center mb-1 ".concat(l?"border-orange-500 bg-orange-500":"border-gray-400 bg-transparent")}),(0,a.jsx)("span",{className:"text-[10px] text-[#777] select-none",children:e.label})]},e.id)})})}},8396:(e,t,r)=>{"use strict";r.d(t,{db:()=>o,h:()=>c,j:()=>i});var a=r(3915),l=r(5317),n=r(6203);let s=(0,a.Wp)({apiKey:"AIzaSyDSTAcpdQ-fDPw10h9wz3y_cS-bywHgVAY",authDomain:"community-chat-app-68996.firebaseapp.com",projectId:"community-chat-app-68996",storageBucket:"community-chat-app-68996.appspot.com",messagingSenderId:"523216978134",appId:"1:523216978134:web:a4bae7b951e880a7f78977",measurementId:"G-3VB219MYP1"}),o=(0,l.aU)(s),i=(0,n.xI)(s),c=new n.HF}},e=>{var t=t=>e(e.s=t);e.O(0,[992,158,678,441,684,358],()=>t(6308)),_N_E=e.O()}]);