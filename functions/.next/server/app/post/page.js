(()=>{var e={};e.id=901,e.ids=[901],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11071:()=>{},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29223:()=>{},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},37009:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(60687);r(43210);var n=r(16189),o=r(82548);let i=[{id:1,label:"HOME",path:"/"},{id:2,label:"Community",path:"/community"},{id:3,label:"Chat",path:"/chatlist",requireAuth:!0},{id:5,label:"MY",path:"/mypage",requireAuth:!0}],a=()=>{let e=(0,n.useRouter)(),t=(0,n.usePathname)(),r=t=>{t.requireAuth&&!o.j.currentUser?e.push("/login"):e.push(t.path)};return(0,s.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 z-50 w-full max-w-xl mx-auto h-[60px] bg-[#f8f8f8] border-t-2 border-[#cecece] flex justify-around items-center select-none",children:i.map(e=>{let n=t===e.path||"/"!==e.path&&t.startsWith(e.path);return(0,s.jsxs)("button",{onClick:()=>r(e),"aria-label":e.label,className:"flex flex-col items-center justify-center flex-1 max-w-[150px] bg-none border-none outline-none",type:"button",children:[(0,s.jsx)("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center mb-1 ${n?"border-orange-500 bg-orange-500":"border-gray-400 bg-transparent"}`}),(0,s.jsx)("span",{className:"text-[10px] text-[#777] select-none",children:e.label})]},e.id)})})}},37366:e=>{"use strict";e.exports=require("dns")},39628:(e,t,r)=>{Promise.resolve().then(r.bind(r,90079))},51272:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>d,pages:()=>c,routeModule:()=>p,tree:()=>u});var s=r(65239),n=r(48088),o=r(88170),i=r.n(o),a=r(30893),l={};for(let e in a)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>a[e]);r.d(t,l);let u={children:["",{children:["post",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,93629)),"C:\\Users\\sunli\\OneDrive\\Desktop\\Cursor\\community-chat-app\\src\\app\\post\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,94431)),"C:\\Users\\sunli\\OneDrive\\Desktop\\Cursor\\community-chat-app\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["C:\\Users\\sunli\\OneDrive\\Desktop\\Cursor\\community-chat-app\\src\\app\\post\\page.tsx"],d={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/post/page",pathname:"/post",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},52780:(e,t,r)=>{Promise.resolve().then(r.bind(r,93629))},55511:e=>{"use strict";e.exports=require("crypto")},60087:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,86346,23)),Promise.resolve().then(r.t.bind(r,27924,23)),Promise.resolve().then(r.t.bind(r,35656,23)),Promise.resolve().then(r.t.bind(r,40099,23)),Promise.resolve().then(r.t.bind(r,38243,23)),Promise.resolve().then(r.t.bind(r,28827,23)),Promise.resolve().then(r.t.bind(r,62763,23)),Promise.resolve().then(r.t.bind(r,97173,23))},61135:()=>{},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},65663:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,16444,23)),Promise.resolve().then(r.t.bind(r,16042,23)),Promise.resolve().then(r.t.bind(r,88170,23)),Promise.resolve().then(r.t.bind(r,49477,23)),Promise.resolve().then(r.t.bind(r,29345,23)),Promise.resolve().then(r.t.bind(r,12089,23)),Promise.resolve().then(r.t.bind(r,46577,23)),Promise.resolve().then(r.t.bind(r,31307,23))},70440:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(31658);let n=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},73496:e=>{"use strict";e.exports=require("http2")},74075:e=>{"use strict";e.exports=require("zlib")},79242:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var s=r(60687);r(43210);var n=r(16189);let o=()=>{let e=(0,n.useRouter)(),t="/"===(0,n.usePathname)();return(0,s.jsx)("header",{className:"fixed top-0 left-0 right-0 z-50 w-full max-w-xl mx-auto h-[70px] bg-[#F9F9F9] border-b border-[#777] flex items-center justify-center select-none",children:(0,s.jsxs)("div",{className:"w-full max-w-xl flex items-center justify-between px-5 relative",children:[(0,s.jsxs)("button",{onClick:()=>e.back(),className:`bg-none border-none text-[20px] cursor-pointer text-black  p-0 flex items-center transition-opacity duration-200 ${t?"opacity-0 pointer-events-none":"opacity-100"}`,"aria-hidden":t,tabIndex:t?-1:0,children:["<"," ",(0,s.jsx)("span",{className:"ml-1 hidden sm:inline",children:"Back"})]}),(0,s.jsx)("h1",{className:"absolute left-1/2 transform -translate-x-1/2 text-[20px] font-bold text-black text-center cursor-pointer select-none m-0",onClick:()=>e.push("/"),children:"USTB"}),(0,s.jsx)("div",{className:"w-[60px]"})]})})}},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},82548:(e,t,r)=>{"use strict";r.d(t,{db:()=>a,h:()=>u,j:()=>l});var s=r(67989),n=r(75535),o=r(84245);let i=(0,s.Wp)({apiKey:"AIzaSyDSTAcpdQ-fDPw10h9wz3y_cS-bywHgVAY",authDomain:"community-chat-app-68996.firebaseapp.com",projectId:"community-chat-app-68996",storageBucket:"community-chat-app-68996.appspot.com",messagingSenderId:"523216978134",appId:"1:523216978134:web:a4bae7b951e880a7f78977",measurementId:"G-3VB219MYP1"}),a=(0,n.aU)(i),l=(0,o.xI)(i),u=new o.HF},90079:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var s=r(60687),n=r(43210),o=r(16189),i=r(75535),a=r(82548),l=r(79242),u=r(37009);function c(){let e=(0,o.useRouter)(),[t,r]=(0,n.useState)(""),[c,d]=(0,n.useState)(""),[p,m]=(0,n.useState)(""),[h,x]=(0,n.useState)(!1),b=async r=>{if(r.preventDefault(),!a.j.currentUser){alert("Login is required."),e.push("/login");return}if(!t.trim()||!c.trim())return void alert("Please enter both the title and the content.");x(!0);try{await (0,i.gS)((0,i.rJ)(a.db,"posts"),{title:t,content:c,type:p,author_uid:a.j.currentUser.uid,author_email:a.j.currentUser.email,author_nickname:a.j.currentUser.displayName||"익명",created_at:(0,i.O5)()}),alert("Your post has been successfully uploaded!"),e.push("/community")}catch(e){console.error("Post upload failed:",e),alert("An error occurred while uploading the post.")}finally{x(!1)}};return(0,s.jsxs)("div",{className:"pt-[70px] pb-[60px] max-w-xl mx-auto min-h-screen bg-white",children:[(0,s.jsx)(l.A,{}),(0,s.jsx)("main",{className:"p-5",children:(0,s.jsxs)("form",{onSubmit:b,className:"flex flex-col gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"category",className:"font-bold text-gray-700 block mb-2",children:"Category"}),(0,s.jsxs)("select",{id:"type",value:p,onChange:e=>m(e.target.value),className:"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-400",required:!0,children:[(0,s.jsx)("option",{value:"",children:"Choose a category"}),(0,s.jsx)("option",{value:"school",children:"school community"}),(0,s.jsx)("option",{value:"free",children:"free community"}),(0,s.jsx)("option",{value:"club",children:"club community"}),(0,s.jsx)("option",{value:"market",children:"market community"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"title",className:"font-bold text-gray-700 block mb-2",children:"Title"}),(0,s.jsx)("input",{id:"title",type:"text",value:t,onChange:e=>r(e.target.value),placeholder:"input title",className:"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-400",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"content",className:"font-bold text-gray-700 block mb-2",children:"Content"}),(0,s.jsx)("textarea",{id:"content",value:c,onChange:e=>d(e.target.value),placeholder:"input content",className:"w-full h-80 p-2 border rounded-md resize-none focus:outline-none focus:ring-2 focus:ring-yellow-400",required:!0})]}),(0,s.jsxs)("div",{className:"flex justify-between mt-4",children:[(0,s.jsx)("button",{type:"button",onClick:()=>{e.back()},className:"w-[45%] bg-gray-300 text-gray-700 font-bold py-2 rounded hover:bg-gray-400",children:"Cancle"}),(0,s.jsx)("button",{type:"submit",disabled:h,className:"w-[45%] bg-yellow-400 text-white font-bold py-2 rounded hover:bg-yellow-500",children:h?"Saving...":"Save"})]})]})}),(0,s.jsx)(u.A,{})]})}},91645:e=>{"use strict";e.exports=require("net")},93629:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\sunli\\\\OneDrive\\\\Desktop\\\\Cursor\\\\community-chat-app\\\\src\\\\app\\\\post\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\sunli\\OneDrive\\Desktop\\Cursor\\community-chat-app\\src\\app\\post\\page.tsx","default")},94431:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u,metadata:()=>l});var s=r(37413),n=r(22376),o=r.n(n),i=r(68726),a=r.n(i);r(61135);let l={title:"Create Next App",description:"Generated by create next app"};function u({children:e}){return(0,s.jsx)("html",{lang:"en",children:(0,s.jsx)("body",{className:`${o().variable} ${a().variable} antialiased`,children:e})})}},94735:e=>{"use strict";e.exports=require("events")}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[447,145,472],()=>r(51272));module.exports=s})();